<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>Тестова система</title>
<style>
body{font-family:Arial,sans-serif;background:#f0f0f0;margin:0;padding:0;}
#login,#mainMenu,#quizContainer,#adminPanel{display:none;padding:20px;}
button{margin:5px;padding:10px 20px;font-size:16px;}
h2{margin-top:0;}
input[type=text],input[type=password]{padding:5px;font-size:16px;width:200px;margin:5px 0;}
</style>
</head>
<body>

<div id="login">
<h2>Вхід в акаунт</h2>
<input type="text" id="username" placeholder="Нік"><br>
<input type="password" id="password" placeholder="Пароль"><br>
<button onclick="login()">Увійти</button>
<p id="loginMsg" style="color:red;"></p>
</div>

<div id="mainMenu">
<h2>Головне меню</h2>
<div id="topicButtons"></div>
<button onclick="logout()">Вийти</button>
<p style="font-size:12px;">(Натисни 5 разів на меню для адмінки)</p>
</div>

<div id="quizContainer">
<h2 id="quizTitle"></h2>
<p id="questionText"></p>
<div id="answerButtons"></div>
<button onclick="backToMenu()">Назад</button>
</div>

<div id="adminPanel">
<h2>Адмінка</h2>
<p>Тут можна змінювати питання та теми.</p>
<button onclick="closeAdmin()">Закрити</button>
</div>

<script>
// --- Дані для авторизації ---
let users=[{username:"user1",password:"123"},{username:"user2",password:"abc"}];
let adminClicks=0;

// --- Теми і питання ---
let topics=[
{
  name:"Тема 1",
  questions:[]
},
{
  name:"Тема 2",
  questions:[]
},
{
  name:"Тема 3",
  questions:[]
},
{
  name:"Тема 4",
  questions:[]
},
{
  name:"Тема 5",
  questions:[]
},
{
  name:"Тема 6",
  questions:[]
},
{
  name:"Тема 7",
  questions:[]
},
{
  name:"Тема 8",
  questions:[]
},
{
  name:"Тема 9",
  questions:[]
},
{
  name:"Тема 10",
  questions:[]
}
];

// --- Генерація 50 унікальних питань на тему ---
for(let t=0;t<topics.length;t++){
  for(let i=1;i<=50;i++){
    topics[t].questions.push({
      question:`${topics[t].name} – Питання ${i}?`,
      answers:[
        `Варіант A${i}`,
        `Варіант B${i}`,
        `Варіант C${i}`,
        `Варіант D${i}`
      ],
      correct:0
    });
  }
}

let currentUser="";
let currentTopic=null;
let currentQIndex=0;

// --- Показати логін ---
document.getElementById("login").style.display="block";

function login(){
  let u=document.getElementById("username").value;
  let p=document.getElementById("password").value;
  let found=false;
  for(let user of users){
    if(user.username===u && user.password===p){
      found=true;
      currentUser=u;
      break;
    }
  }
  if(found){
    document.getElementById("login").style.display="none";
    showMainMenu();
  }else{
    document.getElementById("loginMsg").innerText="Невірний нік або пароль";
  }
}

function logout(){
  currentUser="";
  document.getElementById("mainMenu").style.display="none";
  document.getElementById("login").style.display="block";
}

function showMainMenu(){
  document.getElementById("mainMenu").style.display="block";
  let container=document.getElementById("topicButtons");
  container.innerHTML="";
  topics.forEach((t,index)=>{
    let btn=document.createElement("button");
    btn.innerText=t.name;
    btn.onclick=()=>startQuiz(index);
    btn.ondblclick=()=>{}; // для адмінки натискання
    btn.addEventListener("click",()=>{
      adminClicks++;
      if(adminClicks>=5){
        document.getElementById("adminPanel").style.display="block";
        adminClicks=0;
      }
    });
    container.appendChild(btn);
  });
}

function startQuiz(topicIndex){
  currentTopic=topics[topicIndex];
  currentQIndex=0;
  document.getElementById("mainMenu").style.display="none";
  showQuestion();
}

function showQuestion(){
  document.getElementById("quizContainer").style.display="block";
  document.getElementById("quizTitle").innerText=currentTopic.name;
  let q=currentTopic.questions[currentQIndex];
  document.getElementById("questionText").innerText=q.question;
  let container=document.getElementById("answerButtons");
  container.innerHTML="";
  q.answers.forEach((a,index)=>{
    let btn=document.createElement("button");
    btn.innerText=a;
    btn.onclick=()=>nextQuestion(index);
    container.appendChild(btn);
  });
}

function nextQuestion(selected){
  let q=currentTopic.questions[currentQIndex];
  if(selected===q.correct){
    console.log("Правильно!");
  }else{
    console.log("Неправильно!");
  }
  currentQIndex++;
  if(currentQIndex<currentTopic.questions.length){
    showQuestion();
  }else{
    alert("Тема завершена!");
    backToMenu();
  }
}

function backToMenu(){
  document.getElementById("quizContainer").style.display="none";
  document.getElementById("mainMenu").style.display="block";
}

function closeAdmin(){
  document.getElementById("adminPanel").style.display="none";
}
</script>
</body>
</html>
