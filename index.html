<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>UkrMova Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{--blue:#00a2ff;--red:#ff4d4d;--green:#2ecc71;--gold:#f1c40f}
body{margin:0;font-family:system-ui,sans-serif;background:url('https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Flag_of_Ukraine.svg/2560px-Flag_of_Ukraine.svg.png') center/cover fixed;color:#111;background-attachment:fixed}
.screen{display:none;flex-direction:column;min-height:100vh;padding:16px;box-sizing:border-box}
.active{display:flex}
.card{background:rgba(255,255,255,0.94);backdrop-filter:blur(10px);border-radius:16px;padding:24px;box-shadow:0 10px 40px rgba(0,0,0,0.25);margin:auto;width:100%;max-width:520px}
.btn{display:block;width:100%;padding:16px;margin:10px 0;border:none;border-radius:12px;font-size:17px;font-weight:bold;cursor:pointer;transition:all .18s}
.btn.blue{background:var(--blue);color:white}
.btn.green{background:var(--green);color:white}
.btn.danger{background:var(--red);color:white}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,0,0,0.25)}
.money{font-size:42px;font-weight:900;color:var(--gold);text-align:center;margin:20px 0;text-shadow:0 2px 10px rgba(0,0,0,0.3)}
.nickname{font-size:32px;font-weight:bold;text-align:center;margin:15px 0;color:#222}
.lvl-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:12px;max-height:55vh;overflow-y:auto;padding:20px 0}
.lvl{padding:18px;border-radius:14px;text-align:center;font-weight:bold;font-size:18px;cursor:pointer;transition:all .2s;background:rgba(0,0,0,0.15);opacity:.55}
.lvl.open{opacity:1;background:var(--blue);color:white;box-shadow:0 0 25px rgba(0,162,255,.7)}
#qtext{font-size:22px;line-height:1.4;margin-bottom:28px;text-align:center;font-weight:500}
#abox{display:flex;flex-direction:column;gap:14px}
#bot-chat-box{max-height:300px;overflow-y:auto;border:1px solid #ddd;padding:14px;background:white;border-radius:12px;margin:14px 0}
.bot-msg{margin:10px 0;padding:14px 18px;background:#e8f4ff;border-radius:14px;max-width:88%;word-wrap:break-word}
</style>
</head>
<body>

<div id="auth" class="screen active">
  <div class="card">
    <h2 style="color:var(--gold);text-align:center;margin-bottom:30px">UKRMOVA PRO</h2>
    <input id="nick" placeholder="Введи свій нікнейм" style="width:100%;padding:16px;margin:16px 0;border:1px solid #ccc;border-radius:12px;font-size:17px">
    <button class="btn blue" onclick="startGame()" style="padding:18px;font-size:18px">ГРАТИ</button>
  </div>
</div>

<div id="menu" class="screen">
  <div class="card">
    <h3 onclick="admT()" style="cursor:pointer;text-align:center">МЕНЮ</h3>
    <div class="nickname" id="playerNick"></div>
    <div class="money"><span id="mon">0</span> ₴</div>

    <button class="btn blue" onclick="show('themes')">ГРАТИ</button>
    <button class="btn" style="background:#333;color:white" onclick="show('top')">ТОП</button>
    <button class="btn green" onclick="show('shop')">МАГАЗИН</button>

    <h4 style="color:var(--blue);margin:28px 0 14px;text-align:center">Чат від бота</h4>
    <div id="bot-chat-box"></div>

    <div id="admin-panel" style="display:none;margin-top:20px;padding:20px;border:2px dashed var(--red);border-radius:14px;background:rgba(255,220,220,0.2)">
      <b style="color:var(--red);cursor:pointer" onclick="closeAdm()">❌ ЗАКРИТИ</b><br><br>
      <input id="bot-message" placeholder="Повідомлення від бота..." style="width:100%;padding:14px;margin-bottom:10px;border:1px solid #ccc;border-radius:10px">
      <button class="btn blue" onclick="sendBotMsg()">Відправити</button>
      <button class="btn danger" onclick="clearBotChat()" style="margin-top:14px">Очистити чат</button>
    </div>
  </div>
</div>

<div id="themes" class="screen">
  <div class="card">
    <h2 style="text-align:center">Обери тему</h2><br>
    <button class="btn blue" onclick="startTheme('vydminy')">Відміни іменників</button>
    <button class="btn blue" onclick="startTheme('chasyslova')">Часи дієслів</button>
    <button class="btn blue" onclick="startTheme('prykmetnyky')">Прикметники</button>
    <button class="btn blue" onclick="startTheme('pryslinniky')">Прислівники</button>
    <button class="btn blue" onclick="startTheme('synonimy')">Синоніми / Антоніми</button>
    <button class="btn blue" onclick="startTheme('chyslyvnyky')">Числівники</button>
    <button class="btn blue" onclick="startTheme('stupeni')">Ступені порівняння</button>
    <button class="btn blue" onclick="startTheme('pravopys')">Правопис слів</button>
    <button class="btn blue" onclick="startTheme('punktyatsiya')">Пунктуація</button>
    <button class="btn blue" onclick="startTheme('frazeolohizmy')">Фразеологізми</button>
    <button class="btn danger" onclick="show('menu')" style="margin-top:30px">НАЗАД</button>
  </div>
</div>

<div id="levels" class="screen">
  <div class="card">
    <h3 id="themeTitle" style="text-align:center">РІВНІ</h3>
    <div class="lvl-grid" id="lgrid"></div>
    <button class="btn danger" onclick="show('themes')" style="margin-top:20px">НАЗАД ДО ТЕМ</button>
  </div>
</div>

<div id="game" class="screen">
  <div class="card">
    <div id="qtext" style="margin-bottom:28px;font-size:22px;line-height:1.4"></div>
    <div id="abox"></div>
  </div>
</div>

<div id="top" class="screen">
  <div class="card">
    <h3 style="text-align:center">ТОП 1000 (локальний)</h3>
    <div id="tlist" style="margin:20px 0"></div>
    <button class="btn blue" onclick="show('menu')">НАЗАД</button>
  </div>
</div>

<div id="shop" class="screen">
  <div class="card">
    <h2 style="text-align:center">Магазин</h2><br>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:14px">
      <div onclick="buyItem('gold_frame')" style="background:#f9f9f9;padding:18px;border-radius:12px;text-align:center;cursor:pointer;border:1px solid #ddd">Золота рамка — 1000 ₴</div>
      <div onclick="buyItem('crown')" style="background:#f9f9f9;padding:18px;border-radius:12px;text-align:center;cursor:pointer;border:1px solid #ddd">Корона — 2000 ₴</div>
      <div onclick="buyItem('fire')" style="background:#f9f9f9;padding:18px;border-radius:12px;text-align:center;cursor:pointer;border:1px solid #ddd">Полум'я — 1500 ₴</div>
      <div onclick="buyItem('shield')" style="background:#f9f9f9;padding:18px;border-radius:12px;text-align:center;cursor:pointer;border:1px solid #ddd">Щит — 2500 ₴</div>
      <div onclick="buyItem('vip')" style="background:#f9f9f9;padding:18px;border-radius:12px;text-align:center;cursor:pointer;border:1px solid #ddd;grid-column:span 2">ВІП — 5000 ₴</div>
    </div>
    <button class="btn blue" onclick="show('menu')" style="margin-top:30px">НАЗАД</button>
  </div>
</div>

<script>
let user=null,clicks=0;
let currentTheme='',used=new Set(),correct=0,wrong=0,qCount=0;

const correctSound=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3");
const wrongSound=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3");

function $(id){return document.getElementById(id)}

function startGame(){
  let n=$("nick").value.trim()||'Гравець';
  user={name:n,points:0,lvl:50};
  $("playerNick").textContent=user.name;
  $("mon").textContent=user.points;
  show('menu');
}

function show(id){
  document.querySelectorAll('.screen').forEach(el=>el.classList.remove('active'));
  $(id).classList.add('active');
}

function admT(){
  clicks++;
  if(clicks>=5){
    $("admin-panel").style.display="block";
    clicks=0;
  }
}

function closeAdm(){$("admin-panel").style.display="none"}

function startTheme(theme){
  currentTheme=theme;
  used.clear();correct=wrong=qCount=0;
  let grid=$("lgrid");grid.innerHTML="";
  $("themeTitle").textContent=`РІВНІ — ${theme}`;
  for(let i=0;i<50;i++){
    let el=document.createElement("div");
    el.className="lvl"+(i<user.lvl?" open":"");
    el.textContent=i+1;
    el.onclick=()=>startLevel(i);
    grid.appendChild(el);
  }
  show("levels");
}

function startLevel(idx){
  if(idx>=user.lvl)return;
  let qs=getQuestions(currentTheme);
  let avail=qs.filter((_,i)=>!used.has(i));
  if(avail.length===0){
    let acc=Math.round(correct/qCount*100)||0;
    alert(`Тему пройдено!\nПравильних: ${correct}\nПомилок: ${wrong}\nТочність: ${acc}%\nОчок: +${correct*1000}`);
    show("themes");
    return;
  }
  let rand=Math.floor(Math.random()*avail.length);
  let q=avail[rand];
  used.add(qs.indexOf(q));
  qCount++;
  $("qtext").textContent=`Питання ${qCount}/50: ${q.t}`;
  let answers=$("abox");answers.innerHTML="";
  let opts=[q.cor,q.inc].sort(()=>Math.random()-0.5);
  opts.forEach(opt=>{
    let btn=document.createElement("button");
    btn.className="btn blue";
    btn.textContent=opt;
    btn.onclick=()=>check(opt===q.cor,idx);
    answers.appendChild(btn);
  });
  show("game");
}

function check(isCorrect,levelIdx){
  if(isCorrect){
    user.points+=1000;correct++;
    correctSound.currentTime=0;correctSound.play().catch(()=>null);
    alert("Правильно! +1000");
  }else{
    user.points=Math.max(0,user.points-150);wrong++;
    wrongSound.currentTime=0;wrongSound.play().catch(()=>null);
    alert("Помилка! -150");
  }
  $("mon").textContent=user.points;
  if(qCount%10===0){
    let acc=Math.round(correct/qCount*100)||0;
    alert(`Блок 10 питань\nПравильних: ${correct}\nПомилок: ${wrong}\nТочність: ${acc}%`);
  }
  startLevel(levelIdx);
}

function sendBotMsg(){
  let text=$("bot-message").value.trim();
  if(!text)return;
  let time=new Date().toLocaleString("uk-UA");
  let msg=document.createElement("div");
  msg.className="bot-msg";
  msg.innerHTML=`<strong>БОТ</strong> <small>(${time})</small><br>${text}`;
  $("bot-chat-box").appendChild(msg);
  $("bot-chat-box").scrollTop=$("bot-chat-box").scrollHeight;
  $("bot-message").value="";
}

function clearBotChat(){
  if(!confirm("Очистити чат?"))return;
  $("bot-chat-box").innerHTML="";
}

function buyItem(item){
  const p={gold_frame:1000,crown:2000,fire:1500,shield:2500,vip:5000};
  if(user.points>=p[item]){
    user.points-=p[item];
    $("mon").textContent=user.points;
    alert("Куплено!");
  }else alert("Недостатньо коштів!");
}

function getQuestions(t){
  return questions[t]||[];
}

const questions={
  vydminy:Array(50).fill().map((_,i)=>({t:`До якої відміни належить слово «${["книга","стіл","мати","ім'я","поле","любов","сіль","серце","земля","день","дитина","вікно","тінь","місто","кров","дерево","мама","око","рука","пісня","море","гість","голова","яблуко","сестра","хліб","молодість","сонце","вулиця","вітер","радість","річка","ліс","двері","гора","знання","дружба","будинок","мова","життя","людина","час","надія","вода","сон","ніч","руки","очі","серце","ім'я"][i]}»?`,cor:["перша відміна","друга відміна","третя відміна","четверта відміна","друга відміна"][i%5],inc:["друга відміна","перша відміна","перша відміна","третя відміна","перша відміна"][i%5]})),
  chasyslova:Array(50).fill().map((_,i)=>({t:`Який час дієслова в реченні «${["Я читаю книгу","Він писав листа","Ми побудуємо дім","Вона співає пісню","Вони говорили швидко","Я їв борщ","Ми будемо дивитися фільм","Дитина малює","Він грав у футбол","Вона бігла швидко","Я сплю вночі","Вони будуть танцювати","Він пив каву","Ми читаємо книгу","Я напишу листа","Вона бачила сон","Ми слухаємо музику","Він зробив уроки","Я люблю Україну","Вона знала відповідь","Він хоче їсти","Ми могли допомогти","Вона має собаку","Я живу в Сумах","Він працював вчора","Вона вчиться в школі","Ми будемо грати","Вони співали пісню","Діти танцюють","Я намалюю картину","Він читав книгу","Ми пишемо диктант","Вона дивилася фільм","Він слухає музику","Ми їмо борщ","Вона пила чай","Він біг швидко","Я сплю вночі","Ми ходили в парк","Вона жила в Києві","Він працює в офісі","Діти навчаються","Я люблю маму","Він знав відповідь","Вона хоче піти","Ми могли допомогти","Він має машину","Я бачу сонце","Вона малювала картину","Ми будемо співати"][i]}»?`,cor:["теперішній час","минулий час","майбутній час","теперішній час","минулий час","минулий час","майбутній час","теперішній час","минулий час","минулий час","теперішній час","майбутній час","минулий час","теперішній час","майбутній час","минулий час","теперішній час","минулий час","теперішній час","минулий час","теперішній час","минулий час","теперішній час","теперішній час","минулий час","теперішній час","майбутній час","минулий час","теперішній час","майбутній час","минулий час","теперішній час","минулий час","теперішній час","теперішній час","минулий час","минулий час","теперішній час","минулий час","минулий час","теперішній час","теперішній час","теперішній час","минулий час","теперішній час","минулий час","теперішній час","теперішній час","минулий час","майбутній час"][i%50],inc:["минулий час","майбутній час","минулий час","минулий час","теперішній час","майбутній час","теперішній час","минулий час","майбутній час","теперішній час","минулий час","минулий час","теперішній час","майбутній час","минулий час","теперішній час","минулий час","майбутній час","минулий час","теперішній час","майбутній час","теперішній час","минулий час","майбутній час","теперішній час","минулий час","теперішній час","теперішній час","минулий час","минулий час","теперішній час","майбутній час","теперішній час","минулий час","минулий час","теперішній час","майбутній час","минулий час","теперішній час","майбутній час","минулий час","минулий час","минулий час","теперішній час","минулий час","майбутній час","минулий час","минулий час","майбутній час","теперішній час"][i%50]})),
  prykmetnyky:Array(50).fill().map((_,i)=>({t:`Який рід прикметника «${["гарна","велике","сильний","красива","нове","довга","високий","маленька","старий","молодий","смачна","цікаве","довгі","хороший","важка","сильна","новий","гарне","висока","маленький","старе","молоді","смачне","цікавий","довге","хороше","важкий","сильне","нові","гарний","високий","маленьке","старий","молоде","смачний","цікава","довгий","хороша","важке","сильний","нове","гарне","висока","маленький","старе","молодий","смачна","цікаве","довга"][i]}»?`,cor:["жіночий","середній","чоловічий","жіночий","середній","жіночий","чоловічий","жіночий","чоловічий","чоловічий","жіночий","середній","жіночий","чоловічий","жіночий","жіночий","чоловічий","середній","жіночий","чоловічий","середній","чоловічий","середній","чоловічий","середній","середній","чоловічий","середній","чоловічий","чоловічий","чоловічий","середній","чоловічий","середній","чоловічий","жіночий","чоловічий","жіночий","середній","чоловічий","середній","середній","жіночий","чоловічий","середній","чоловічий","жіночий","середній","жіночий"][i%50],inc:["чоловічий","жіночий","жіночий","середній","чоловічий","чоловічий","середній","чоловічий","жіночий","середній","середній","чоловічий","чоловічий","середній","чоловічий","середній","жіночий","чоловічий","середній","жіночий","чоловічий","жіночий","жіночий","середній","жіночий","чоловічий","жіночий","чоловічий","жіночий","середній","жіночий","чоловічий","середній","чоловічий","жіночий","середній","жіночий","чоловічий","чоловічий","жіночий","чоловічий","жіночий","середній","жіночий","чоловічий","середній","жіночий","середній","чоловічий","чоловічий"][i%50]})),
  // інші теми аналогічно заповнені 50 питаннями (щоб не робити відповідь надто довгою, решта генерується за шаблоном, але ти можеш замінити на свої питання)
  pryslinniky:Array(50).fill().map((_,i)=>({t:`Прислівник в реченні «${["Вчора я був","Там стоїть","Він швидко біг","Дуже гарно","Тому що холодно","Завжди вчасно","Вгорі літає","Завтра поїдемо","Голосно кричав","Трохи втомився"][i%10]}…»?`,cor:["вчора","там","швидко","дуже","тому що","завжди","вгорі","завтра","голосно","трохи"][i%10],inc:["завтра","тут","повільно","трохи","чому","ніколи","внизу","вчора","тихо","дуже"][i%10]})),
  synonimy:Array(50).fill().map((_,i)=>({t:`Синонім до слова «${["великий","гарний","швидкий","розумний","сильний","веселий","багатий","чистий","молодий","солодкий","важливий","дорогий","світлий","старий","легкий","гарячий","добрий","новий","високий","довгий"][i%20]}»?`,cor:["огромний","красивий","стрімкий","кмітливий","міцний","радісний","заможний","охайний","юний","смачний","значущий","цінний","ясний","давній","простій","палкий","щирий","свіжий","височезний","тривалий"][i%20],inc:["маленький","потворний","повільний","дурний","слабкий","сумний","бідний","брудний","старий","гіркий","неважливий","дешевий","темний","новий","важкий","холодний","злий","старий","низький","короткий"][i%20]})),
  chyslyvnyky:Array(50).fill().map((_,i)=>({t:`Форма числівника «${["один","два","три","чотири","п'ять","шість","сім","вісім","дев'ять","десять","двадцять","сто","тисяча","мільйон","півтора","обидва","один","два","три","чотири"][i%20]}» в родовому відмінку?`,cor:["одного","двох","трьох","чотирьох","п'яти","шести","семи","восьми","дев'яти","десяти","двадцяти","ста","тисячі","мільйона","півтора","обох","одного","двох","трьох","чотирьох"][i%20],inc:["один","два","три","чотири","п'ять","шість","сім","вісім","дев'ять","десять","двадцять","сто","тисяча","мільйон","півтори","обидві","одного","два","три","чотири"][i%20]})),
  stupeni:Array(50).fill().map((_,i)=>({t:`${i%2===0?"Вищий":"Найвищий"} ступінь прикметника «${["гарний","великий","сильний","красивий","новий","довгий","високий","маленький","старий","молодий","смачний","цікавий","хороший","важкий","сильний","новий","гарний","високий","маленький","старий"][i%20]}»?`,cor:["гарніший","більший","сильніший","красивіший","новіший","довший","вищий","менший","старший","молодший","смачніший","цікавіший","кращий","важчий","сильніший","новіший","гарніший","вищий","менший","старший"][i%20],inc:["найгарніший","найбільший","найсильніший","найкрасивіший","найновіший","найдовший","найвищий","найменший","найстарший","наймолодший","найсмачніший","найцікавіший","найкращий","найважчий","найсильніший","найновіший","найгарніший","найвищий","найменший","найстарший"][i%20]})),
  pravopys:Array(50).fill().map((_,i)=>({t:`Як пишеться «${["південь","пів дня","пів'яблука","по-новому","на щастя","по-українськи","по-старому","пів Києва","півтори години","по-людськи","пів яблука","по новому","пів'яблука","по-старому","на щастя","пів дня","по-новому","пів яблука","по-українськи","півтори години"][i%20]}»?`,cor:["разом","окремо","разом з апострофом","через дефіс","окремо","через дефіс","через дефіс","окремо","разом","через дефіс","окремо","окремо","разом з апострофом","через дефіс","окремо","окремо","через дефіс","окремо","через дефіс","разом"][i%20],inc:["через дефіс","разом","окремо","разом","через дефіс","окремо","разом","разом","окремо","окремо","разом","через дефіс","окремо","окремо","разом","разом","окремо","разом","разом","через дефіс"][i%20]})),
  punktyatsiya:Array(50).fill().map((_,i)=>({t:`Який знак ставиться ${["після прямої мови","в кінці окличного речення","в кінці питального речення","між однорідними членами","перед протиставленням","в складносурядному реченні","після звертання","перед вставним словом","після узагальнюючого слова","перед поясненням"][i%10]}?`,cor:["двокрапка","знак оклику","знак питання","кома","тире","кома","кома","коми з обох боків","двокрапка","тире"][i%10],inc:["кома","крапка","кома","тире","кома","крапка з комою","тире","тире","кома","кома"][i%10]})),
  frazeolohizmy:Array(50).fill().map((_,i)=>({t:`Що означає «${["бити байдики","взяти себе в руки","водити за ніс","гнути свою лінію","держати язик за зубами","дути в одну дудку","забити баки","залишити з носом","йти на поводу","крутити хвостом","летіти на крилах","ловити гав","мати зуб","набирати в рот води","не бачити далі свого носа","не в своїй тарілці","не з цієї опери","ні пари з вуст","ні риба ні м'ясо","обіцяти золоті гори"][i%20]}»?`,cor:["нічого не робити","контролювати себе","обманювати","наполягати","мовчати","діяти разом","обманювати","обдурити","підкорятися","хитрувати","бути щасливим","нічого не робити","мати образу","мовчати","не помічати","бути не в настрої","не в тему","мовчати","нічого особливого","обіцяти неможливе"][i%20],inc:["працювати багато","розсердитися","допомагати","здаватися","говорити багато","діяти окремо","говорити правду","не обманювати","не підкорятися","бути чесним","бути сумним","працювати","не мати образи","говорити","бачити далеко","бути в настрої","в тему","говорити","щось особливе","не обіцяти"][i%20]}))
};

</script>
</body>
</html>
