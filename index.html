<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>UkrMova Pro</title>
<style>
:root{--blue:#00a2ff;--red:#ff4d4d;--green:#2ecc71;--gold:#f1c40f;--dark:#d32f2f}
body{background:url('https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Ukrainian_ornament.svg/800px-Ukrainian_ornament.svg.png') repeat;background-size:160px;color:#000;font-family:sans-serif;margin:0;text-align:center}
.screen{display:none;padding:20px;flex-direction:column;min-height:100vh;box-sizing:border-box}
.active{display:flex;animation:fadeIn .3s ease}
.card{background:rgba(255,255,255,0.92);backdrop-filter:blur(10px);padding:20px;border-radius:20px;border:1px solid #444;margin:auto;width:100%;max-width:450px;box-shadow:0 0 20px rgba(0,0,0,0.3)}
.btn{background:var(--blue);color:#fff;border:none;padding:14px;border-radius:12px;font-weight:700;width:100%;margin:6px 0;cursor:pointer;text-transform:uppercase;transition:all .2s}
.btn:hover{transform:scale(1.02);box-shadow:0 0 15px rgba(0,162,255,.6)}
.btn.green{background:var(--green)}
.btn.danger{background:var(--dark)}
.money{font-size:32px;font-weight:900;color:var(--gold);text-shadow:0 0 10px #f1c40f}
.nickname{font-size:28px;font-weight:bold;margin:10px 0;cursor:pointer}
.gold-nick{color:var(--gold);text-shadow:0 0 10px var(--gold)}
.lvl-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;max-height:40vh;overflow-y:auto;padding:10px}
.lvl{background:rgba(51,51,51,0.7);padding:12px 0;border-radius:10px;opacity:0.6;transition:all .3s;border:1px solid #ccc}
.lvl.open{opacity:1;background:var(--blue);border:2px solid white;box-shadow:0 0 15px var(--blue);color:white}
#admin-panel{border:2px dashed var(--red);padding:15px;margin-top:15px;display:none;background:rgba(255,255,255,0.92);text-align:left;border-radius:15px}
input{background:#f5f5f5;border:1px solid #444;padding:10px;border-radius:8px;color:#000;width:90%;margin-bottom:8px}
.shop-item{background:#eee;padding:12px;margin:8px 0;border-radius:10px;cursor:pointer}
.shop-item.bought{background:#c8e6c9}
.shop-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.theme-btn{background:#9c27b0;color:white}
.log-box{max-height:220px;overflow-y:auto;border:1px solid #ccc;padding:10px;margin:10px 0;background:#f8f8f8;border-radius:8px}
.log-entry{padding:4px 0;border-bottom:1px solid #eee}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
</style>
</head>
<body>

<div id="auth-screen" class="screen active">
  <div class="card">
    <h2 style="color:var(--gold)">UKRMOVA PRO</h2>
    <input type="text" id="nick" placeholder="Нікнейм">
    <input type="password" id="pass" placeholder="Пароль">
    <button class="btn" onclick="auth()">УВІЙТИ</button>
  </div>
</div>

<div id="menu" class="screen">
  <div class="card">
    <h3 id="menu-title" onclick="admClick()" style="cursor:pointer">МЕНЮ</h3>
    <div class="nickname" id="playerNick"></div>
    <div class="money"><span id="mon">0</span> ₴</div>
    <button class="btn" onclick="showThemes()">ГРАТИ</button>
    <button class="btn" style="background:#333" onclick="loadTop()">ТОП</button>
    <button class="btn green" onclick="show('shop')">МАГАЗИН</button>

    <div id="admin-panel">
      <b style="color:var(--red);cursor:pointer" onclick="closeAdm()">❌ ЗАКРИТИ</b><br><br>
      <button class="btn" id="pen-btn" style="background:var(--red)" onclick="toggleP()">ШТРАФИ: ВКЛ</button>
      <p><b>Управління гравцями</b></p>
      <input type="text" id="a-n" placeholder="Нік гравця">
      <button class="btn" style="background:var(--green);color:#000" onclick="edO(true)">+ ГРОШІ</button>
      <button class="btn" style="background:var(--red)" onclick="edO(false)">- ГРОШІ</button>
      <button class="btn danger" onclick="delU()">ВИДАЛИТИ ЗА НІКОМ</button>
      <br><br>
      <button class="btn" style="background:var(--blue);width:100%" onclick="loadPlayers()">ПОКАЗАТИ ВСІХ ГРАВЦІВ</button>
      <div id="player-list" style="max-height:250px;overflow-y:auto;margin:15px 0;background:#fff;padding:10px;border:1px solid #ccc;border-radius:8px"></div>
      <br><br>
      <h4 style="color:var(--blue)">Лог входів в адмінку</h4>
      <div id="admin-log" class="log-box">Завантаження...</div>
      <button class="btn" style="background:#ff9800" onclick="clearAdminLogs()">Очистити лог адмінки</button>
      <br><br>
      <h4 style="color:var(--blue)">Лог усіх входів у гру</h4>
      <div id="user-log" class="log-box">Завантаження...</div>
      <button class="btn" style="background:#ff9800;margin-top:8px" onclick="loadUserLog()">Оновити</button>
      <button class="btn danger" style="margin-top:8px" onclick="clearUserLog()">Очистити</button>
    </div>
  </div>
</div>

<div id="shop" class="screen">
  <div class="card">
    <h2>Магазин</h2>
    <div class="shop-grid">
      <div class="shop-item" id="gold_frame" onclick="buyItem('gold_frame')">Золота рамка — 1000 ₴</div>
      <div class="shop-item" id="crown" onclick="buyItem('crown')">Корона — 2000 ₴</div>
    </div>
    <button class="btn" onclick="show('menu')">НАЗАД</button>
  </div>
</div>

<div id="themes" class="screen">
  <div class="card">
    <h2>Обери тему</h2>
    <button class="btn theme-btn" onclick="startTheme('vydminy')">Відміни іменників</button>
    <button class="btn theme-btn" onclick="startTheme('chasyslova')">Часи дієслів</button>
    <button class="btn red" onclick="show('menu')">НАЗАД</button>
  </div>
</div>

<div id="game" class="screen">
  <div class="card">
    <h3 id="qtext"></h3>
    <button class="btn" id="showAnswer" onclick="showAnswerFunc()">Показати відповідь</button>
    <div id="answer" style="margin-top:10px;font-weight:bold"></div>
    <button class="btn" onclick="show('menu')">НАЗАД</button>
  </div>
</div>

<div id="top" class="screen">
  <div class="card">
    <h3>ТОП 1000</h3>
    <div id="tlist"></div>
    <button class="btn" onclick="show('menu')">НАЗАД</button>
  </div>
</div>

<script>
let users = [
  {nick:"admin", pass:"1234", money:1000, admin:true},
  {nick:"player1", pass:"1111", money:500, admin:false}
];

let currentUser = null;
let clickCount = 0;

let questions = {
  vydminy:[
    {question:"До якої відміни належить слово 'книга'?", answer:"Перша відміна"},
    {question:"До якої відміни належить слово 'стіл'?", answer:"Друга відміна"},
    {question:"До якої відміни належить слово 'ніч'?", answer:"Третя відміна"},
    {question:"До якої відміни належить слово 'поле'?", answer:"Друга відміна"},
    {question:"До якої відміни належать іменники жіночого роду на -а/-я?", answer:"Перша відміна"},
    {question:"До якої відміни належить слово 'мати'?", answer:"Третя відміна"},
    {question:"До якої відміни належить слово 'ім'я'?", answer:"Четверта відміна"},
    {question:"До якої відміни належить слово 'любов'?", answer:"Третя відміна"},
    {question:"До якої відміни належить слово 'земля'?", answer:"Перша відміна"},
    {question:"До якої відміни належить слово 'день'?", answer:"Друга відміна"}
  ],
  chasyslova:[
    {question:"Який час дієслова 'читати' у реченні 'Я читав книгу'?", answer:"Минулий"},
    {question:"Який час дієслова 'писати' у реченні 'Він пише листа'?", answer:"Теперішній"},
    {question:"Який час дієслова 'йти' у реченні 'Я йду додому'?", answer:"Теперішній"},
    {question:"Який час дієслова 'будувати' у реченні 'Ми побудуємо будинок'?", answer:"Майбутній"},
    {question:"Який час дієслова 'співати' у реченні 'Вона співала пісню'?", answer:"Минулий"},
    {question:"Який час дієслова 'говорити' у реченні 'Вони говорять швидко'?", answer:"Теперішній"},
    {question:"Який час дієслова 'їсти' у реченні 'Я їв борщ'?", answer:"Минулий"},
    {question:"Який час дієслова 'дивитися' у реченні 'Ми будемо дивитися фільм'?", answer:"Майбутній"},
    {question:"Який час дієслова 'малювати' у реченні 'Дитина малює'?", answer:"Теперішній"},
    {question:"Який час дієслова 'грати' у реченні 'Він грав у футбол'?", answer:"Минулий"}
  ]
};

function auth(){
  let nick = document.getElementById('nick').value;
  let pass = document.getElementById('pass').value;
  let u = users.find(x=>x.nick===nick && x.pass===pass);
  if(u){
    currentUser = u;
    document.getElementById('playerNick').innerText = currentUser.nick;
    document.getElementById('mon').innerText = currentUser.money;
    show('menu');
  } else {
    alert("Невірний нік або пароль");
  }
}

function show(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function showThemes(){
  show('themes');
}

let currentTheme = '';
let currentIndex = 0;

function startTheme(theme){
  currentTheme = theme;
  currentIndex = 0;
  showQuestion();
  show('game');
}

function showQuestion(){
  let q = questions[currentTheme][currentIndex];
  document.getElementById('qtext').innerText = q.question;
  document.getElementById('answer').innerText = '';
}

function showAnswerFunc(){
  let q = questions[currentTheme][currentIndex];
  document.getElementById('answer').innerText = q.answer;
}

function admClick(){
  clickCount++;
  if(clickCount>=5 && currentUser && currentUser.admin){
    document.getElementById('admin-panel').style.display='block';
    clickCount=0;
  }
}

function closeAdm(){
  document.getElementById('admin-panel').style.display='none';
}

// --- Магазин ---
function buyItem(id){
  let cost = id==="gold_frame"?1000:2000;
  if(currentUser.money>=cost){
    currentUser.money-=cost;
    document.getElementById('mon').innerText=currentUser.money;
    alert("Куплено!");
  } else alert("Недостатньо грошей");
}

// --- ТОП ---
function loadTop(){
  let tlist = document.getElementById('tlist');
  tlist.innerHTML = users.sort((a,b)=>b.money-a.money).map(u=>`<div>${u.nick}: ${u.money} ₴</div>`).join('');
  show('top');
}

// Заглушки для адмінки
function toggleP(){alert("Штрафи вкл/викл");}
function edO(add){if(add) currentUser.money+=100; else currentUser.money-=100; document.getElementById('mon').innerText=currentUser.money;}
function delU(){alert("Видалено");}
function loadPlayers(){alert("Гравці завантажено");}
function clearAdminLogs(){alert("Очистити лог");}
function loadUserLog(){alert("Оновлено");}
function clearUserLog(){alert("Очистити");}
</script>

</body>
</html>
