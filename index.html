<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UkrMova Pro</title>
<style>
body{background:#f5f5f5;color:#000;font-family:sans-serif;margin:0;text-align:center}
.screen{display:none;padding:20px;flex-direction:column;min-height:100vh;box-sizing:border-box}
.active{display:flex}
.card{background:#fff;padding:20px;border-radius:15px;margin:auto;width:100%;max-width:450px;box-shadow:0 0 15px rgba(0,0,0,.3)}
.btn{background:#00a2ff;color:#fff;border:none;padding:12px;border-radius:10px;width:100%;margin:6px 0;cursor:pointer}
.btn.green{background:#2ecc71}
.btn.red{background:#f44336}
.lvl-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:5px;max-height:40vh;overflow-y:auto}
.lvl{background:#ccc;padding:10px 0;border-radius:8px;opacity:.7}
.lvl.open{opacity:1;background:#00a2ff;color:#fff}
</style>
</head>
<body>

<div id="auth-screen" class="screen active">
  <div class="card">
    <h2>UKRMOVA PRO</h2>
    <input type="text" id="nick" placeholder="Нікнейм">
    <input type="password" id="pass" placeholder="Пароль">
    <button class="btn" onclick="auth()">УВІЙТИ</button>
  </div>
</div>

<div id="menu" class="screen">
  <div class="card">
    <h3 onclick="admT()">МЕНЮ</h3>
    <div id="playerNick"></div>
    <div><span id="mon">0</span> ₴</div>
    <button class="btn" onclick="showThemes()">ГРАТИ</button>
    <button class="btn green" onclick="show('shop')">МАГАЗИН</button>
    <div id="admin-panel" style="display:none">
      <button class="btn red" onclick="closeAdm()">ЗАКРИТИ</button>
      <input type="text" id="a-n" placeholder="Нік гравця">
      <button class="btn green" onclick="edO(true)">+ ГРОШІ</button>
      <button class="btn red" onclick="edO(false)">- ГРОШІ</button>
      <button class="btn red" onclick="delU()">ВИДАЛИТИ</button>
      <div id="player-list" style="max-height:200px;overflow-y:auto"></div>
    </div>
  </div>
</div>

<div id="shop" class="screen">
  <div class="card">
    <h2>Магазин</h2>
    <div id="shop-items"></div>
    <button class="btn" onclick="show('menu')">НАЗАД</button>
  </div>
</div>

<div id="themes" class="screen">
  <div class="card">
    <h2>Обери тему</h2>
    <div id="theme-buttons"></div>
    <button class="btn red" onclick="show('menu')">НАЗАД</button>
  </div>
</div>

<div id="game" class="screen">
  <div class="card">
    <h3 id="qtext"></h3>
    <div id="abox"></div>
    <button class="btn" onclick="show('menu')">НАЗАД</button>
  </div>
</div>

<script>
let user=null, clickCount=0;
let usersDB={};
let items={gold_frame:false,crown:false,fire:false,shield:false,vip:false};
let themesData={};
for(let i=1;i<=10;i++){themesData["Тема "+i]=[];for(let j=1;j<=50;j++)themesData["Тема "+i].push({t:"Питання "+j,cor:"Вірно "+j,inc:"Невірно "+j})}

const show=id=>{document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active')}

const showThemes=()=>{
  let html=''; for(let t in themesData) html+=`<button class="btn" onclick="startTheme('${t}')">${t}</button>`;
  document.getElementById('theme-buttons').innerHTML=html; show('themes')
}

const startTheme=t=>{
  currentTheme=t; askQuestion(0)
}

let currentTheme='';
const askQuestion=idx=>{
  if(idx>=themesData[currentTheme].length){show('menu'); return;}
  let q=themesData[currentTheme][idx];
  document.getElementById('qtext').innerHTML=q.t;
  document.getElementById('abox').innerHTML=`
  <button class="btn" onclick="checkAnswer('${q.cor}',${idx})">${q.cor}</button>
  <button class="btn" onclick="checkAnswer('${q.inc}',${idx})">${q.inc}</button>`
  show('game')
}

const checkAnswer=(ans,idx)=>{
  if(ans.includes("Вірно")){user.money+=10;document.getElementById('mon').innerText=user.money}
  askQuestion(idx+1)
}

const auth=()=>{
  let n=document.getElementById('nick').value;
  let p=document.getElementById('pass').value;
  if(!n||!p){alert("Введіть нік та пароль"); return;}
  if(!usersDB[n]) usersDB[n]={pass:p,money:0};
  if(usersDB[n].pass!==p){alert("Невірний пароль"); return;}
  user={nick:n,money:usersDB[n].money};
  document.getElementById('playerNick').innerText=user.nick;
  document.getElementById('mon').innerText=user.money;
  show('menu')
}

const shopItems=["gold_frame","crown","fire","shield","vip"];
const shopPrices=[1000,2000,1500,2500,5000];
let shopDiv=document.getElementById('shop-items');
shopDiv.innerHTML=shopItems.map((i,idx)=>`<div class="btn" id="${i}" onclick="buyItem('${i}',${idx})">${i} - ${shopPrices[idx]} ₴</div>`).join('');

const buyItem=(id,idx)=>{
  if(user.money>=shopPrices[idx]){user.money-=shopPrices[idx];items[id]=true;document.getElementById('mon').innerText=user.money;document.getElementById(id).style.background="#2ecc71"}
  else alert("Недостатньо грошей")
}

const admT=()=>{clickCount++;if(clickCount>=5){document.getElementById('admin-panel').style.display='block';clickCount=0}}
const closeAdm=()=>document.getElementById('admin-panel').style.display='none';
const edO=add=>{let n=document.getElementById('a-n').value;if(usersDB[n]){add?usersDB[n].money+=100:usersDB[n].money-=100}}
const delU=()=>{let n=document.getElementById('a-n').value; delete usersDB[n];}
</script>

</body>
</html>
